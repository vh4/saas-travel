(()=>{"use strict";window["br_freestar_0_2"]=e=>{try{const t=window.googletag=window.googletag||{cmd:[]},n=window.freestar,i=e.templateParams.placementName,l=s(e.targeting);if(!n.newAdSlotsAllowed)return e.callback(!0,"newAdSlotsAllowed="+n.newAdSlotsAllowed);const o=25;let a,d=e.prebidGlobalInstanceName&&window[e.prebidGlobalInstanceName];const r=function(t){t.adUnitCode===e.divId&&(a=[t.width,t.height])};function s(e){let t={};for(let n of e)t[n.key]=Array.isArray(n.value)?n.value:[n.value];return t}function c(n){let i=l=>{if(n===l.slot.getSlotElementId()){t.pubads().removeEventListener("slotRenderEnded",i);const d={gamInfo:{lid:l.lineItemId,oid:l.campaignId},adUnit:l.slot.getAdUnitPath()};if(l.isEmpty)return e.callback(!0,void 0,d);{const r=document.getElementById(n);function s(t){return a=a||t.size,setTimeout((()=>{r&&r.parentElement&&(r.parentElement.style.minHeight=a[1]+"px")}),3e3),e.callback(t.isEmpty,void 0,d)}1===l.size[0]&&1===l.size[1]?r&&(o=r,new Promise((e=>{let t,n;n=setTimeout((()=>(clearInterval(t),e())),5e3),t=setInterval((()=>{if(u(o))return clearInterval(t),clearTimeout(n),e()}),200)}))).then((e=>{s(l)})):s(l)}}var o};t.pubads().addEventListener("slotRenderEnded",i)}function u(e){const t=m(e);return t.w>o&&t.h>o}function m(e){let t={w:0,h:0};return e.childNodes.forEach((e=>{if((n=e)&&n instanceof Element){let n=w(e);t.w=Math.max(t.w,n.w),t.h+=n.h}var n})),t}function w(e){const t=e.getBoundingClientRect();return{h:t.height,w:t.width}}d.que=d.que||[],d.que.push((function(){d.onEvent("bidWon",r)})),n.queue.push((function(){c(e.divId),n.newAdSlots([{placementName:i,slotId:e.divId,targeting:l}])}))}catch(g){e.callback(!0,g.message)}}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW5lcmljLXRlbXBsYXRlcy1qc29ucC8uL3NyYy9mcmVlc3Rhci9mcmVlc3Rhci50cyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJkYXRhIiwiZ29vZ2xldGFnIiwiY21kIiwiZnJlZXN0YXJFbmdpbmUiLCJwbGFjZW1lbnROYW1lIiwidGVtcGxhdGVQYXJhbXMiLCJicm93c2lUYXJnZXRpbmdGb3JtYXR0ZWQiLCJidWlsZFRhcmdldGluZyIsInRhcmdldGluZyIsIm5ld0FkU2xvdHNBbGxvd2VkIiwiY2FsbGJhY2siLCJNSU5fQURfU0laRSIsIndpblNpemUiLCJwcmViaWRJbnN0YW5jZSIsInByZWJpZEdsb2JhbEluc3RhbmNlTmFtZSIsImJpZFdvbkhhbmRsZXIiLCJldmVudERhdGEiLCJhZFVuaXRDb2RlIiwiZGl2SWQiLCJ3aWR0aCIsImhlaWdodCIsImJyb3dzaVRhcmdldGluZyIsInRhcmdldGluZ09iamVjdCIsIml0ZW0iLCJrZXkiLCJBcnJheSIsImlzQXJyYXkiLCJ2YWx1ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ1bml0Q29kZSIsImxpc3RlbmVyQ2FsbGJhY2siLCJldmVudCIsInNsb3QiLCJnZXRTbG90RWxlbWVudElkIiwicHViYWRzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNhbGxiYWNrUGFyYW1zIiwiZ2FtSW5mbyIsImxpZCIsImxpbmVJdGVtSWQiLCJvaWQiLCJjYW1wYWlnbklkIiwiYWRVbml0IiwiZ2V0QWRVbml0UGF0aCIsImlzRW1wdHkiLCJ1bmRlZmluZWQiLCJjb250YWluZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwib25XaW4iLCJzaXplIiwic2V0VGltZW91dCIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsIm1pbkhlaWdodCIsImVsZW1lbnQiLCJQcm9taXNlIiwicmVzb2x2ZSIsImludGVydmFsSWQiLCJ0aW1lT3V0IiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiaXNWYWxpZEFkU2l6ZSIsImNsZWFyVGltZW91dCIsInRoZW4iLCJyZXN1bHQiLCJhZFNpemUiLCJnZXRBZFNpemUiLCJ3IiwiaCIsImNoaWxkcmVuU2l6ZSIsImNoaWxkTm9kZXMiLCJmb3JFYWNoIiwiY2hpbGROb2RlIiwiRWxlbWVudCIsImVsZW1lbnRTaXplIiwiZ2V0RWxlbWVudFNpemUiLCJNYXRoIiwibWF4IiwiY2xpZW50UmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInF1ZSIsInB1c2giLCJvbkV2ZW50IiwicXVldWUiLCJuZXdBZFNsb3RzIiwic2xvdElkIiwiZSIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiJtQkFDQUEsT0FBTyxzQkFBeUJDLElBQzVCLElBQ0ksTUFBTUMsRUFBWUYsT0FBa0IsVUFBSUEsT0FBa0IsV0FBSyxDQUFFRyxJQUFLLElBQ2hFQyxFQUFpQkosT0FBaUIsU0FDbENLLEVBQWdCSixFQUFLSyxlQUFlRCxjQUNwQ0UsRUFBMkJDLEVBQWVQLEVBQUtRLFdBQ3JELElBQUtMLEVBQWVNLGtCQUNoQixPQUFPVCxFQUFLVSxVQUFTLEVBQU0scUJBQXVCUCxFQUFlTSxtQkFFckUsTUFBTUUsRUFBYyxHQUNwQixJQUFJQyxFQUNBQyxFQUFpQmIsRUFBS2MsMEJBQTRCZixPQUFPQyxFQUFLYywwQkFDbEUsTUFBTUMsRUFBZ0IsU0FBVUMsR0FDeEJBLEVBQVVDLGFBQWVqQixFQUFLa0IsUUFDOUJOLEVBQVUsQ0FDTkksRUFBVUcsTUFDVkgsRUFBVUksVUFpQnRCLFNBQVNiLEVBQWVjLEdBQ3BCLElBQUlDLEVBQWtCLEdBQ3RCLElBQUssSUFBSUMsS0FBUUYsRUFDYkMsRUFBZ0JDLEVBQUtDLEtBQU9DLE1BQU1DLFFBQVFILEVBQUtJLE9BQVNKLEVBQUtJLE1BQVEsQ0FBQ0osRUFBS0ksT0FFL0UsT0FBT0wsRUFFWCxTQUFTTSxFQUFpQkMsR0FDdEIsSUFBSUMsRUFBb0JDLElBQ3BCLEdBQUlGLElBQWFFLEVBQU1DLEtBQUtDLG1CQUFvQixDQUM1Q2hDLEVBQVVpQyxTQUFTQyxvQkFBb0Isa0JBQW1CTCxHQUMxRCxNQUFNTSxFQUFpQixDQUNuQkMsUUFBUyxDQUNMQyxJQUFLUCxFQUFNUSxXQUNYQyxJQUFLVCxFQUFNVSxZQUVmQyxPQUFRWCxFQUFNQyxLQUFLVyxpQkFFdkIsR0FBSVosRUFBTWEsUUFDTixPQUFPNUMsRUFBS1UsVUFBUyxPQUFNbUMsRUFBV1QsR0FFckMsQ0FDRCxNQUFNVSxFQUFZQyxTQUFTQyxlQUFlbkIsR0FDMUMsU0FBU29CLEVBQU1sQixHQU9YLE9BTkFuQixFQUFVQSxHQUFXbUIsRUFBTW1CLEtBQzNCQyxZQUFXLEtBQ0hMLEdBQWFBLEVBQVVNLGdCQUN2Qk4sRUFBVU0sY0FBY0MsTUFBTUMsVUFBWTFDLEVBQVEsR0FBSyxRQUU1RCxLQUNJWixFQUFLVSxTQUFTcUIsRUFBTWEsYUFBU0MsRUFBV1QsR0FFN0IsSUFBbEJMLEVBQU1tQixLQUFLLElBQThCLElBQWxCbkIsRUFBTW1CLEtBQUssR0FDOUJKLElBY1NTLEVBYmVULEVBY3JDLElBQUlVLFNBQVNDLElBQ2hCLElBQUlDLEVBQVlDLEVBQ2hCQSxFQUFVUixZQUFXLEtBQ2pCUyxjQUFjRixHQUNQRCxNQUNSLEtBQ0hDLEVBQWFHLGFBQVksS0FDckIsR0FBSUMsRUFBY1AsR0FHZCxPQUZBSyxjQUFjRixHQUNkSyxhQUFhSixHQUNORixNQUVaLFNBMUJnRE8sTUFBTUMsSUFDckNoQixFQUFNbEIsTUFLZGtCLEVBQU1sQixJQU8xQixJQUFpQ3dCLEdBRjdCdEQsRUFBVWlDLFNBQVNOLGlCQUFpQixrQkFBbUJFLEdBa0IzRCxTQUFTZ0MsRUFBY1AsR0FDbkIsTUFBTVcsRUFBU0MsRUFBVVosR0FDekIsT0FBUVcsRUFBT0UsRUFBSXpELEdBQWV1RCxFQUFPRyxFQUFJMUQsRUFFakQsU0FBU3dELEVBQVVyQixHQUNmLElBQUl3QixFQUFlLENBQUVGLEVBQUcsRUFBR0MsRUFBRyxHQVE5QixPQVBBdkIsRUFBVXlCLFdBQVdDLFNBQVFDLElBQ3pCLElBWVdsQixFQVpHa0IsSUFhQ2xCLGFBQW1CbUIsUUFiUixDQUN0QixJQUFJQyxFQUFjQyxFQUFlSCxHQUNqQ0gsRUFBYUYsRUFBSVMsS0FBS0MsSUFBSVIsRUFBYUYsRUFBR08sRUFBWVAsR0FDdERFLEVBQWFELEdBQUtNLEVBQVlOLEVBUzFDLElBQW1CZCxLQU5SZSxFQUVYLFNBQVNNLEVBQWVyQixHQUNwQixNQUFNd0IsRUFBYXhCLEVBQVF5Qix3QkFDM0IsTUFBTyxDQUFFWCxFQUFHVSxFQUFXM0QsT0FBUWdELEVBQUdXLEVBQVc1RCxPQTdGakROLEVBQWVvRSxJQUFNcEUsRUFBZW9FLEtBQU8sR0FDM0NwRSxFQUFlb0UsSUFBSUMsTUFBSyxXQUNwQnJFLEVBQWVzRSxRQUFRLFNBQVVwRSxNQUdyQ1osRUFBZWlGLE1BQU1GLE1BQUssV0FDdEJ0RCxFQUFpQjVCLEVBQUtrQixPQUN0QmYsRUFBZWtGLFdBQVcsQ0FBQyxDQUNuQmpGLGNBQWVBLEVBQ2ZrRixPQUFRdEYsRUFBS2tCLE1BQ2JWLFVBQVdGLFFBeUYzQixNQUFPaUYsR0FFSHZGLEVBQUtVLFVBQVMsRUFBTTZFLEVBQUVDLFkiLCJmaWxlIjoiZnJlZXN0YXIvZnJlZXN0YXIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbndpbmRvd1tcIjxHRU5FUklDX0ZVTkNUSU9OPlwiXSA9IChkYXRhKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZ29vZ2xldGFnID0gd2luZG93W1wiZ29vZ2xldGFnXCJdID0gd2luZG93W1wiZ29vZ2xldGFnXCJdIHx8IHsgY21kOiBbXSB9O1xuICAgICAgICBjb25zdCBmcmVlc3RhckVuZ2luZSA9IHdpbmRvd1tcImZyZWVzdGFyXCJdO1xuICAgICAgICBjb25zdCBwbGFjZW1lbnROYW1lID0gZGF0YS50ZW1wbGF0ZVBhcmFtcy5wbGFjZW1lbnROYW1lO1xuICAgICAgICBjb25zdCBicm93c2lUYXJnZXRpbmdGb3JtYXR0ZWQgPSBidWlsZFRhcmdldGluZyhkYXRhLnRhcmdldGluZyk7IC8vZm9ybWF0dGluZyB0byBmcmVlc3RhciBmb3JtYXQgLSB7a2V5MTpbJ3ZhbCddLGtleTI6Wyd2YWwxJywndmFsMiddfVxuICAgICAgICBpZiAoIWZyZWVzdGFyRW5naW5lLm5ld0FkU2xvdHNBbGxvd2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS5jYWxsYmFjayh0cnVlLCAnbmV3QWRTbG90c0FsbG93ZWQ9JyArIGZyZWVzdGFyRW5naW5lLm5ld0FkU2xvdHNBbGxvd2VkKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBNSU5fQURfU0laRSA9IDI1O1xuICAgICAgICBsZXQgd2luU2l6ZTtcbiAgICAgICAgbGV0IHByZWJpZEluc3RhbmNlID0gZGF0YS5wcmViaWRHbG9iYWxJbnN0YW5jZU5hbWUgJiYgd2luZG93W2RhdGEucHJlYmlkR2xvYmFsSW5zdGFuY2VOYW1lXTtcbiAgICAgICAgY29uc3QgYmlkV29uSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudERhdGEpIHtcbiAgICAgICAgICAgIGlmIChldmVudERhdGEuYWRVbml0Q29kZSA9PT0gZGF0YS5kaXZJZCkge1xuICAgICAgICAgICAgICAgIHdpblNpemUgPSBbXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50RGF0YS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnREYXRhLmhlaWdodFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHByZWJpZEluc3RhbmNlLnF1ZSA9IHByZWJpZEluc3RhbmNlLnF1ZSB8fCBbXTtcbiAgICAgICAgcHJlYmlkSW5zdGFuY2UucXVlLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcHJlYmlkSW5zdGFuY2Uub25FdmVudCgnYmlkV29uJywgYmlkV29uSGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICAvL3B1c2hpbmcgdG8gZnJlZXN0YXIgcXVldWUgcGxhY2VtZW50TmFtZSBhbmQgdGFyZ2V0aW5nIGZvciB0aGUgYWRzbG90XG4gICAgICAgIGZyZWVzdGFyRW5naW5lLnF1ZXVlLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihkYXRhLmRpdklkKTtcbiAgICAgICAgICAgIGZyZWVzdGFyRW5naW5lLm5ld0FkU2xvdHMoW3tcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50TmFtZTogcGxhY2VtZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc2xvdElkOiBkYXRhLmRpdklkLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRpbmc6IGJyb3dzaVRhcmdldGluZ0Zvcm1hdHRlZFxuICAgICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkVGFyZ2V0aW5nKGJyb3dzaVRhcmdldGluZykge1xuICAgICAgICAgICAgbGV0IHRhcmdldGluZ09iamVjdCA9IHt9O1xuICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBicm93c2lUYXJnZXRpbmcpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRpbmdPYmplY3RbaXRlbS5rZXldID0gQXJyYXkuaXNBcnJheShpdGVtLnZhbHVlKSA/IGl0ZW0udmFsdWUgOiBbaXRlbS52YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0aW5nT2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIodW5pdENvZGUpIHtcbiAgICAgICAgICAgIGxldCBsaXN0ZW5lckNhbGxiYWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHVuaXRDb2RlID09PSBldmVudC5zbG90LmdldFNsb3RFbGVtZW50SWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBnb29nbGV0YWcucHViYWRzKCkucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2xvdFJlbmRlckVuZGVkJywgbGlzdGVuZXJDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtSW5mbzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpZDogZXZlbnQubGluZUl0ZW1JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvaWQ6IGV2ZW50LmNhbXBhaWduSWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBhZFVuaXQ6IGV2ZW50LnNsb3QuZ2V0QWRVbml0UGF0aCgpXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5pc0VtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jYWxsYmFjayh0cnVlLCB1bmRlZmluZWQsIGNhbGxiYWNrUGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHVuaXRDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uV2luKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luU2l6ZSA9IHdpblNpemUgfHwgZXZlbnQuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lciAmJiBjb250YWluZXIucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnBhcmVudEVsZW1lbnQuc3R5bGUubWluSGVpZ2h0ID0gd2luU2l6ZVsxXSArICdweCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jYWxsYmFjayhldmVudC5pc0VtcHR5LCB1bmRlZmluZWQsIGNhbGxiYWNrUGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5zaXplWzBdID09PSAxICYmIGV2ZW50LnNpemVbMV0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXRGb3JWYWxpZEVsZW1lbnRTaXplKGNvbnRhaW5lcikudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbldpbihldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uV2luKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBnb29nbGV0YWcucHViYWRzKCkuYWRkRXZlbnRMaXN0ZW5lcihcInNsb3RSZW5kZXJFbmRlZFwiLCBsaXN0ZW5lckNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB3YWl0Rm9yVmFsaWRFbGVtZW50U2l6ZShlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgaW50ZXJ2YWxJZCwgdGltZU91dDtcbiAgICAgICAgICAgICAgICB0aW1lT3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSwgNTAwMCk7XG4gICAgICAgICAgICAgICAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWRBZFNpemUoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZU91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGlzVmFsaWRBZFNpemUoZWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgYWRTaXplID0gZ2V0QWRTaXplKGVsZW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIChhZFNpemUudyA+IE1JTl9BRF9TSVpFICYmIGFkU2l6ZS5oID4gTUlOX0FEX1NJWkUpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGdldEFkU2l6ZShjb250YWluZXIpIHtcbiAgICAgICAgICAgIGxldCBjaGlsZHJlblNpemUgPSB7IHc6IDAsIGg6IDAgfTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5jaGlsZE5vZGVzLmZvckVhY2goY2hpbGROb2RlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNFbGVtZW50KGNoaWxkTm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVsZW1lbnRTaXplID0gZ2V0RWxlbWVudFNpemUoY2hpbGROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5TaXplLncgPSBNYXRoLm1heChjaGlsZHJlblNpemUudywgZWxlbWVudFNpemUudyk7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuU2l6ZS5oICs9IGVsZW1lbnRTaXplLmg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGRyZW5TaXplO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGdldEVsZW1lbnRTaXplKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudFJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHsgaDogY2xpZW50UmVjdC5oZWlnaHQsIHc6IGNsaWVudFJlY3Qud2lkdGggfTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBpc0VsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIChlbGVtZW50ICYmIGVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgZGF0YS5jYWxsYmFjayh0cnVlLCBlLm1lc3NhZ2UpO1xuICAgIH1cbn07XG4iXSwic291cmNlUm9vdCI6IiJ9